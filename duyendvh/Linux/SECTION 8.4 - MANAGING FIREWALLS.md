![[Screenshot 2025-11-24 at 01.50.21.png]]
![[Screenshot 2025-11-24 at 01.50.38.png]]
![[Screenshot 2025-11-24 at 01.51.28.png]]
![[Screenshot 2025-11-24 at 01.51.54.png]]

![[Screenshot 2025-11-24 at 01.51.00.png]]
![[Screenshot 2025-11-24 at 01.52.28.png]]
![[Screenshot 2025-11-24 at 01.53.03.png]]
![[Screenshot 2025-11-24 at 01.53.31.png]]
![[Screenshot 2025-11-24 at 01.54.17.png]]
![[Screenshot 2025-11-24 at 01.54.49.png]]
![[Screenshot 2025-11-24 at 01.56.33.png]]

![[Screenshot 2025-11-24 at 01.55.44.png]]
![[Screenshot 2025-11-24 at 01.55.58.png]]
![[Screenshot 2025-11-24 at 01.58.44.png]]

![[Screenshot 2025-11-24 at 01.57.34.png]]

![[Screenshot 2025-11-24 at 01.57.17.png]]
![[Screenshot 2025-11-24 at 01.59.16.png]]
![[Screenshot 2025-11-24 at 01.59.34.png]]
![[Screenshot 2025-11-24 at 01.59.58.png]]

## **1. Filter Table (Packet Filtering â€“ Firewall Rules)**

|Chain|Example|Meaning / When Used|
|---|---|---|
|**INPUT**|`iptables -A INPUT -p tcp --dport 22 -j ACCEPT`|Rules for packets **coming into the server**. Here, allow SSH (port 22) traffic to the local machine.|
|**OUTPUT**|`iptables -A OUTPUT -p tcp --dport 80 -j ACCEPT`|Rules for packets **leaving the server**. Here, allow local machine to send HTTP requests.|
|**FORWARD**|`iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT`|Rules for packets **passing through the server** (like a router). Here, allow packets from eth0 to eth1.|

---

## **2. NAT Table (Network Address Translation)**

| Chain           | Example                                                                                  | Meaning / When Used                                                                                                               |
| --------------- | ---------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| **PREROUTING**  | `iptables -t nat -A PREROUTING -p tcp --dport 8080 -j REDIRECT --to-port 80`             | Modify packets **before routing decision**. Here, redirect port 8080 to 80 on local machine.                                      |
| **POSTROUTING** | `iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE`                                   | Modify packets **after routing decision**. Here, do SNAT / masquerade for outgoing packets on eth0 (common for internet sharing). |
| **OUTPUT**      | `iptables -t nat -A OUTPUT -p tcp --dport 8080 -j DNAT --to-destination 192.168.1.10:80` | Modify packets generated by the **local machine** before routing.                                                                 |

---

## **3. Mangle Table (Packet Alteration / QoS)**

|Chain|Example|Meaning / When Used|
|---|---|---|
|**PREROUTING**|`iptables -t mangle -A PREROUTING -p tcp --dport 22 -j TOS --set-tos 0x10`|Modify packet before routing. Here, set TOS (Type of Service) for SSH packets.|
|**POSTROUTING**|`iptables -t mangle -A POSTROUTING -p tcp -j TTL --ttl-set 64`|Modify packet after routing. Here, set TTL (Time To Live) for outgoing packets.|
|**OUTPUT / INPUT / FORWARD**|`iptables -t mangle -A FORWARD -p tcp -j MARK --set-mark 1`|Mark packets for routing or QoS purposes.|

---

## **4. Raw Table (Disable Connection Tracking)**

| Chain          | Example                                                      | Meaning / When Used                                                                                                     |
| -------------- | ------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------- |
| **PREROUTING** | `iptables -t raw -A PREROUTING -p tcp --dport 80 -j NOTRACK` | Apply before connection tracking. Here, packets to port 80 are **not tracked** (used for performance or special cases). |
| **OUTPUT**     | `iptables -t raw -A OUTPUT -p tcp -j NOTRACK`                | Locally generated packets **not tracked**.                                                                              |
